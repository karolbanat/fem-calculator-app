"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var themeSwitcherButtons=document.querySelectorAll(".theme-switcher__radio-btn"),calculator=document.querySelector(".calculator"),valueKeys=calculator.querySelectorAll("button[data-value]"),operationKeys=calculator.querySelectorAll("button[data-operation]"),calculatorOutput=calculator.querySelector("#calculator-output"),loadTheme=function(){var e=localStorage.getItem("theme");e?changeTheme(e):loadPreferedTheme()},changeTheme=function(e){document.body.setAttribute("data-theme",e),checkRadioBtn(e),saveTheme(e)},saveTheme=function(e){localStorage.setItem("theme",e)},loadPreferedTheme=function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";checkRadioBtn(e)},checkRadioBtn=function(t){themeSwitcherButtons.forEach(function(e){e.value===t&&(e.checked=!0)})},Calculator=(themeSwitcherButtons.forEach(function(e){return e.addEventListener("change",function(e){return changeTheme(e.target.value)})}),function(){function e(){_classCallCheck(this,e),_defineProperty(this,"result",0),_defineProperty(this,"operation",void 0),_defineProperty(this,"buffer","0")}return _createClass(e,[{key:"invokeOperation",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;switch(this.operation){case"+":this.result=this.result+parseFloat(this.buffer);break;case"-":this.result=this.result-parseFloat(this.buffer);break;case"/":this.result=this.result/parseFloat(this.buffer);break;case"*":this.result=this.result*parseFloat(this.buffer);break;default:this.result=parseFloat(this.buffer)}this.setOperation(e),this.buffer="0"}},{key:"setOperation",value:function(e){this.operation=e}},{key:"reset",value:function(){this.buffer="0",this.result=0,this.operation=void 0}},{key:"increaseValue",value:function(e){"."===e&&this.buffer.includes(".")||(this.buffer+=e,this.transformLead())}},{key:"decreaseValue",value:function(){this.buffer=this.buffer.slice(0,-1)||"0"}},{key:"transformLead",value:function(){this.trimLeadingZeros(),this.convertLeadingDot()}},{key:"trimLeadingZeros",value:function(){this.buffer=this.buffer.replace(/^0+/,"")||"0"}},{key:"convertLeadingDot",value:function(){this.buffer=this.buffer.replace(/^\./,"0.")}}]),e}()),calc=new Calculator,handleOperationKey=function(e){var t=e.target.dataset.operation;switch(t){case"delete":calc.decreaseValue(),displayOutput(calc.buffer);break;case"reset":calc.reset(),displayOutput(calc.buffer);break;case"+":case"-":case"/":case"*":calc.invokeOperation(t),displayOutput(calc.buffer);break;case"=":calc.invokeOperation(),displayOutput(calc.result)}},displayOutput=function(){calculatorOutput.innerText=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"0"};valueKeys.forEach(function(e){return e.addEventListener("click",function(e){calc.increaseValue(e.target.dataset.value),displayOutput(calc.buffer)})}),operationKeys.forEach(function(e){return e.addEventListener("click",handleOperationKey)}),loadTheme();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGhlbWVTd2l0Y2hlckJ1dHRvbnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYWxjdWxhdG9yIiwicXVlcnlTZWxlY3RvciIsInZhbHVlS2V5cyIsIm9wZXJhdGlvbktleXMiLCJjYWxjdWxhdG9yT3V0cHV0IiwibG9jYWxTdG9yYWdlIiwibG9hZFByZWZlcmVkVGhlbWUiLCJ0aGVtZSIsImNoYW5nZVRoZW1lIiwiY2hlY2tSYWRpb0J0biIsInNhdmVUaGVtZSIsInNldEl0ZW0iLCJ3aW5kb3ciLCJwcmVmZXJlZFRoZW1lIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJidG4iLCJ2YWx1ZSIsImNoZWNrZWQiLCJDYWxjdWxhdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2RlZmluZVByb3BlcnR5IiwidW5kZWZpbmVkIiwibmV4dE9wZXJhdGlvbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm9wZXJhdGlvbiIsInJlc3VsdCIsInBhcnNlRmxvYXQiLCJidWZmZXIiLCJzZXRPcGVyYXRpb24iLCJrZXkiLCJpbmNsdWRlcyIsInRyYW5zZm9ybUxlYWQiLCJzbGljZSIsInRyaW1MZWFkaW5nWmVyb3MiLCJjb252ZXJ0TGVhZGluZ0RvdCIsInJlcGxhY2UiLCJjYWxjIiwiaGFuZGxlT3BlcmF0aW9uS2V5IiwiZGVjcmVhc2VWYWx1ZSIsImRpc3BsYXlPdXRwdXQiLCJyZXNldCIsImludm9rZU9wZXJhdGlvbiIsImlubmVyVGV4dCIsImZvckVhY2giLCJpbmNyZWFzZVZhbHVlIiwiZGF0YXNldCIsImxvYWRUaGVtZSJdLCJtYXBwaW5ncyI6IjRrQkFBQSxJQUFNQSxxQkFBdUJDLFNBQVNDLGlCQUFpQiw0QkFBNEIsRUFFN0VDLFdBQWFGLFNBQVNHLGNBQWMsYUFBYSxFQUNqREMsVUFBWUYsV0FBV0QsaUJBQWlCLG9CQUFvQixFQUM1REksY0FBZ0JI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QUEsQ0FBQUgsSUFBQSxvQkFBQWxCLE1BRUQsV0FFQ08sS0FYQVMsT0FBS00sS0FBQUEsT0FBZ0JFLFFBQUUsTUFBQSxJQUFBLENBWXhCLENBQUMsRUFBQSxFQUFBdEIsQ0FBQSxFQUFBLEdBVkF1QixLQUFBLElBQUF2QixXQUdBd0IsbUJBQUEsU0FBQXRCLEdBYUQsSUFaQ1MsRUFBV1QsRUFBR0MsT0FBS1csUUFBT1EsVUFhM0IsT0FaQVgsR0FBQyxJQUFBLFNBY0NZLEtBZERFLGNBQUEsRUFlQ0MsY0FiRkgsS0FBQVQsTUFBQSxFQWNFLE1BQ0QsSUFiQSxRQWNDUyxLQWJGSSxNQUFBLEVBQUNELGNBQUFILEtBQUFULE1BQUEsRUFBQSxNQUFBLElBQUEsSUFHRixJQUFNUyxJQUVOLElBQU1DLElBQ0wsSUFBTWIsSUFDTlksS0FBQUssZ0JBQWlCakIsQ0FBQSxFQWNmZSxjQWJZSCxLQUFBVCxNQUFBLEVBY1osTUFDRCxJQWJDWSxJQWNBSCxLQWJBSyxnQkFBQSxFQWNBRixjQWJXSCxLQUFBWCxNQUFBLENBQ1hXLENBZUgsRUFaRUcsY0FBUSxXQWNUekMsaUJBYlM0QyxVQURBLEVBQUFwQixVQUFBQyxRQUFBSCxLQUFBQSxJQUFBRSxVQUFBLEdBQUFBLFVBQUEsR0FBQSxHQWVWLEVBRUExQixVQWJPK0MsUUFBQ0YsU0FBQUEsR0FBQUEsT0FjUFosRUFBSWYsaUJBYllzQixRQUFXLFNBQUFyQixHQWMxQnFCLEtBYkNRLGNBQUE3QixFQUFBQyxPQUFBNkIsUUFBQWxDLEtBQUEsRUFjRDRCLGNBYlFILEtBQUFULE1BQUEsQ0FjVCxDQUFDLENBQUMsQ0FBQSxFQUdIOUIsY0FkUzhDLFFBQUEsU0FBQWQsR0FBQSxPQUFBQSxFQUFBZixpQkFBQSxRQUFBdUIsa0JBQUEsQ0FBQSxDQUFBLEVBR1RTLFVBQU1QIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdGhlbWVTd2l0Y2hlckJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGhlbWUtc3dpdGNoZXJfX3JhZGlvLWJ0bicpO1xyXG4vKiBjYWx1Y3VsYXRvciBlbGVtZW50cyAqL1xyXG5jb25zdCBjYWxjdWxhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGN1bGF0b3InKTtcclxuY29uc3QgdmFsdWVLZXlzID0gY2FsY3VsYXRvci5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bZGF0YS12YWx1ZV0nKTtcclxuY29uc3Qgb3BlcmF0aW9uS2V5cyA9IGNhbGN1bGF0b3IucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW2RhdGEtb3BlcmF0aW9uXScpO1xyXG5jb25zdCBjYWxjdWxhdG9yT3V0cHV0ID0gY2FsY3VsYXRvci5xdWVyeVNlbGVjdG9yKCcjY2FsY3VsYXRvci1vdXRwdXQnKTtcclxuXHJcbi8qIHRoZW1lIGhhbmRsaW5nICovXHJcbmNvbnN0IGxvYWRUaGVtZSA9ICgpID0+IHtcclxuXHRjb25zdCB0aGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpO1xyXG5cclxuXHRpZiAodGhlbWUpIGNoYW5nZVRoZW1lKHRoZW1lKTtcclxuXHRlbHNlIGxvYWRQcmVmZXJlZFRoZW1lKCk7XHJcbn07XHJcblxyXG5jb25zdCBjaGFuZ2VUaGVtZSA9IHRoZW1lID0+IHtcclxuXHRkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIHRoZW1lKTtcclxuXHRjaGVja1JhZGlvQnRuKHRoZW1lKTtcclxuXHRzYXZlVGhlbWUodGhlbWUpO1xyXG59O1xyXG5cclxuY29uc3Qgc2F2ZVRoZW1lID0gdGhlbWUgPT4ge1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsIHRoZW1lKTtcclxufTtcclxuXHJcbmNvbnN0IGxvYWRQcmVmZXJlZFRoZW1lID0gKCkgPT4ge1xyXG5cdGNvbnN0IHByZWZlcmVkVGhlbWUgPVxyXG5cdFx0d2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzID8gJ2RhcmsnIDogJ2xpZ2h0JztcclxuXHRjaGVja1JhZGlvQnRuKHByZWZlcmVkVGhlbWUpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tSYWRpb0J0biA9IHRoZW1lID0+IHtcclxuXHR0aGVtZVN3aXRjaGVyQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7XHJcblx0XHRpZiAoYnRuLnZhbHVlID09PSB0aGVtZSkgYnRuLmNoZWNrZWQgPSB0cnVlO1xyXG5cdH0pO1xyXG59O1xyXG50aGVtZVN3aXRjaGVyQnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZSA9PiBjaGFuZ2VUaGVtZShlLnRhcmdldC52YWx1ZSkpKTtcclxuLyogdGhlbWUgaGFuZGxpbmcgZW5kICovXHJcblxyXG4vKiBjYWxjdWxhdG9yIGhhbmRsaW5nICovXHJcbmNsYXNzIENhbGN1bGF0b3Ige1xyXG5cdHJlc3VsdCA9IDAuMDtcclxuXHRvcGVyYXRpb24gPSB1bmRlZmluZWQ7XHJcblx0YnVmZmVyID0gJzAnO1xyXG5cclxuXHRpbnZva2VPcGVyYXRpb24obmV4dE9wZXJhdGlvbiA9IHVuZGVmaW5lZCkge1xyXG5cdFx0c3dpdGNoICh0aGlzLm9wZXJhdGlvbikge1xyXG5cdFx0XHRjYXNlICcrJzpcclxuXHRcdFx0XHR0aGlzLnJlc3VsdCA9IHRoaXMucmVzdWx0ICsgcGFyc2VGbG9hdCh0aGlzLmJ1ZmZlcik7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJy0nOlxyXG5cdFx0XHRcdHRoaXMucmVzdWx0ID0gdGhpcy5yZXN1bHQgLSBwYXJzZUZsb2F0KHRoaXMuYnVmZmVyKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnLyc6XHJcblx0XHRcdFx0dGhpcy5yZXN1bHQgPSB0aGlzLnJlc3VsdCAvIHBhcnNlRmxvYXQodGhpcy5idWZmZXIpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICcqJzpcclxuXHRcdFx0XHR0aGlzLnJlc3VsdCA9IHRoaXMucmVzdWx0ICogcGFyc2VGbG9hdCh0aGlzLmJ1ZmZlcik7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0dGhpcy5yZXN1bHQgPSBwYXJzZUZsb2F0KHRoaXMuYnVmZmVyKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnNldE9wZXJhdGlvbihuZXh0T3BlcmF0aW9uKTtcclxuXHRcdHRoaXMuYnVmZmVyID0gJzAnO1xyXG5cdH1cclxuXHJcblx0c2V0T3BlcmF0aW9uKG9wZXJhdGlvbikge1xyXG5cdFx0dGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb247XHJcblx0fVxyXG5cclxuXHRyZXNldCgpIHtcclxuXHRcdHRoaXMuYnVmZmVyID0gJzAnO1xyXG5cdFx0dGhpcy5yZXN1bHQgPSAwLjA7XHJcblx0XHR0aGlzLm9wZXJhdGlvbiA9IHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdGluY3JlYXNlVmFsdWUodmFsdWUpIHtcclxuXHRcdGlmICh2YWx1ZSA9PT0gJy4nICYmIHRoaXMuYnVmZmVyLmluY2x1ZGVzKCcuJykpIHJldHVybjtcclxuXHJcblx0XHR0aGlzLmJ1ZmZlciArPSB2YWx1ZTtcclxuXHRcdHRoaXMudHJhbnNmb3JtTGVhZCgpO1xyXG5cdH1cclxuXHJcblx0ZGVjcmVhc2VWYWx1ZSgpIHtcclxuXHRcdHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UoMCwgLTEpIHx8ICcwJztcclxuXHR9XHJcblxyXG5cdHRyYW5zZm9ybUxlYWQoKSB7XHJcblx0XHR0aGlzLnRyaW1MZWFkaW5nWmVyb3MoKTtcclxuXHRcdHRoaXMuY29udmVydExlYWRpbmdEb3QoKTtcclxuXHR9XHJcblxyXG5cdHRyaW1MZWFkaW5nWmVyb3MoKSB7XHJcblx0XHQvKiByZW1vdmUgbGVhZGluZyB6ZXJvcyAqL1xyXG5cdFx0dGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5yZXBsYWNlKC9eMCsvLCAnJykgfHwgJzAnO1xyXG5cdH1cclxuXHJcblx0Y29udmVydExlYWRpbmdEb3QoKSB7XHJcblx0XHQvKiBpZiB0aGVyZSBpcyBkb3QgYXQgdGhlIHN0YXJ0LCByZXBsYWNlIGl0IHdpdGggMC4gKi9cclxuXHRcdHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIucmVwbGFjZSgvXlxcLi8sICcwLicpO1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2FsYyA9IG5ldyBDYWxjdWxhdG9yKCk7XHJcblxyXG5jb25zdCBoYW5kbGVPcGVyYXRpb25LZXkgPSBlID0+IHtcclxuXHRjb25zdCBvcGVyYXRpb24gPSBlLnRhcmdldC5kYXRhc2V0Lm9wZXJhdGlvbjtcclxuXHRzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG5cdFx0Y2FzZSAnZGVsZXRlJzpcclxuXHRcdFx0Y2FsYy5kZWNyZWFzZVZhbHVlKCk7XHJcblx0XHRcdGRpc3BsYXlPdXRwdXQoY2FsYy5idWZmZXIpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ3Jlc2V0JzpcclxuXHRcdFx0Y2FsYy5yZXNldCgpO1xyXG5cdFx0XHRkaXNwbGF5T3V0cHV0KGNhbGMuYnVmZmVyKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICcrJzpcclxuXHRcdGNhc2UgJy0nOlxyXG5cdFx0Y2FzZSAnLyc6XHJcblx0XHRjYXNlICcqJzpcclxuXHRcdFx0Y2FsYy5pbnZva2VPcGVyYXRpb24ob3BlcmF0aW9uKTtcclxuXHRcdFx0ZGlzcGxheU91dHB1dChjYWxjLmJ1ZmZlcik7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnPSc6XHJcblx0XHRcdGNhbGMuaW52b2tlT3BlcmF0aW9uKCk7XHJcblx0XHRcdGRpc3BsYXlPdXRwdXQoY2FsYy5yZXN1bHQpO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcbn07XHJcbmNvbnN0IGRpc3BsYXlPdXRwdXQgPSAodmFsdWUgPSAnMCcpID0+IHtcclxuXHRjYWxjdWxhdG9yT3V0cHV0LmlubmVyVGV4dCA9IHZhbHVlO1xyXG59O1xyXG5cclxudmFsdWVLZXlzLmZvckVhY2goa2V5ID0+XHJcblx0a2V5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRjYWxjLmluY3JlYXNlVmFsdWUoZS50YXJnZXQuZGF0YXNldC52YWx1ZSk7XHJcblx0XHRkaXNwbGF5T3V0cHV0KGNhbGMuYnVmZmVyKTtcclxuXHR9KVxyXG4pO1xyXG5cclxub3BlcmF0aW9uS2V5cy5mb3JFYWNoKGtleSA9PiBrZXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVPcGVyYXRpb25LZXkpKTtcclxuXHJcbmxvYWRUaGVtZSgpO1xyXG4iXX0=
